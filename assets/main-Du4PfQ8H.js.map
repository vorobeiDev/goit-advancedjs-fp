{"version":3,"file":"main-Du4PfQ8H.js","sources":["../../src/js/header.js","../../src/js/services/iziToast.js","../../src/js/quote.js","../../src/js/favorites.js","../../src/js/services/api-service.js","../../src/img/icons/icons.svg","../../src/js/filters.js","../../src/js/modal.js","../../src/js/services/subscribe.js","../../src/js/mobile-menu.js","../../src/js/preloader.js","../../src/js/scroll-to-top.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\n\n  const navLinks = document.querySelectorAll('.nav-link');\n\n  let currentUrl = window.location.pathname.split('/').pop();\n\n  if (currentUrl !== 'index.html' && currentUrl !== 'favorites.html') {\n    currentUrl = 'index.html';\n  };\n\n  navLinks.forEach(link => {\n      if (link.getAttribute('href') === currentUrl) {\n          link.classList.add('active');\n      }\n  });\n});\n\nconst header = document.querySelector('.js-header'),\n  main = document.querySelector('main'),\n  headerScrollClass = 'is-scrolling',\n  toggleHeaderScrollingClass = e => {\n    e\n      ? header.classList.add(headerScrollClass)\n      : header.classList.remove(headerScrollClass);\n  },\n  toggleMainScrollingStyles = e => {\n    e\n      ? (main.style.marginTop = `${header.offsetHeight}px`)\n      : (main.style.marginTop = 0);\n  },\n  scrollHandler = () => {\n    let e = window.scrollY > header.offsetTop;\n    toggleHeaderScrollingClass(e), toggleMainScrollingStyles(e);\n  };\ndocument.addEventListener('DOMContentLoaded', () => {\n  scrollHandler(), document.addEventListener('scroll', scrollHandler);\n});","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nexport const showIziToast = (message, title, color, time) => {\r\n  iziToast.show({\r\n    message,\r\n    drag: true,\r\n    close: false,\r\n    timeout: time ?? 5000,\r\n    position: 'bottomRight',\r\n    messageColor: '#2a2a2a',\r\n    closeOnClick: true,\r\n    animateInside: true,\r\n    backgroundColor: color ?? '#f4f4f4',\r\n    title: title ?? '',\r\n  });\r\n};\r\n","import { showIziToast } from './services/iziToast.js';\n\nasync function fetchQuote() {\n  try {\n    const response = await fetch('https://your-energy.b.goit.study/api/quote');\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    showIziToast('Error fetching the quote:', 'Error ❌');\n    return null;\n  }\n}\n\nfunction saveQuoteToLocalStorage(quote) {\n  const currentDate = new Date().toISOString().split('T')[0];\n  localStorage.setItem(\n    'dailyQuote',\n    JSON.stringify({ quote, date: currentDate })\n  );\n}\n\nfunction getSavedQuote() {\n  const savedQuote = localStorage.getItem('dailyQuote');\n  return savedQuote ? JSON.parse(savedQuote) : null;\n}\n\nasync function getDailyQuote() {\n  const savedQuote = getSavedQuote();\n  const currentDate = new Date().toISOString().split('T')[0];\n\n  if (savedQuote && savedQuote.date === currentDate) {\n    return savedQuote.quote;\n  } else {\n    const newQuote = await fetchQuote();\n    if (newQuote) {\n      saveQuoteToLocalStorage(newQuote);\n      return newQuote;\n    } else {\n      return savedQuote ? savedQuote.quote : null;\n    }\n  }\n}\n\nasync function displayQuote() {\n  const dailyQuote = await getDailyQuote();\n  if (dailyQuote) {\n    const quoteText = dailyQuote.quote;\n    const quoteAuthor = dailyQuote.author;\n    document.querySelector('.quote').textContent = quoteText;\n    document.querySelector('.quote-author').textContent = quoteAuthor;\n  }\n}\n\ndisplayQuote();\n","import { showIziToast } from './services/iziToast.js';\n\nexport const getFavorites = () => {\n  return JSON.parse(localStorage.getItem('favorites')) || [];\n};\n\nexport function addToFavorites(exercise) {\n  if (!exercise._id) {\n    showIziToast('Exercise ID is missing.', 'Error ❌');\n    return;\n  }\n\n  const favorites = getFavorites();\n\n  if (favorites.find((item) => item._id === exercise._id)) {\n    showIziToast('This exercise is already in your favorites.', 'Error ❌');\n  } else {\n    favorites.push(exercise);\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n    showIziToast('Exercise added to favorites!', 'Success ✅');\n  }\n}\n\nexport function removeFromFavorites(exerciseId, callback) {\n  if (!exerciseId) {\n    showIziToast('Exercise ID is missing.', 'Error ❌');\n    return;\n  }\n\n  const favorites = getFavorites();\n\n  if (!favorites.find((item) => item._id === exerciseId)) {\n    showIziToast('This exercise is not in your favorites.', 'Error ❌');\n  } else {\n    const filteredFavorites = favorites.filter((item) => item._id !== exerciseId);\n    localStorage.setItem('favorites', JSON.stringify(filteredFavorites));\n    showIziToast('Exercise removed from favorites!', 'Success ✅');\n\n    if (callback) {\n      callback();\n    }\n  }\n}","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://your-energy.b.goit.study/api';\r\n\r\nexport const fetchData = async (path, method, body) => {\r\n  const headers = { 'Content-type': 'application/json' };\r\n  const init = { headers, method, body };\r\n  const resp = await fetch(path, init);\r\n  if (!resp.ok) {\r\n    throw new Error(`Error: status: ${resp.status}, ${resp.statusText}`);\r\n  }\r\n  return resp.json();\r\n};\r\n\r\nexport const fetchApi = {\r\n  async getExercises(exercisesParams) {\r\n    const params = new URLSearchParams(exercisesParams);\r\n    const url = `${BASE_URL}/exercises?${params}`;\r\n    return await fetchData(url);\r\n  },\r\n\r\n  async getExercisesId(id) {\r\n    const url = `${BASE_URL}/exercises/${id}`;\r\n    return await fetchData(url);\r\n  },\r\n\r\n  async editExercisesIdRating(id, ratingBody) {\r\n    const method = 'PATCH';\r\n    const url = `${BASE_URL}/exercises/${id}/rating`;\r\n    const body = JSON.stringify(ratingBody);\r\n    return await fetchData(url, method, body);\r\n  },\r\n\r\n  async getExercisesFilter(filterParams) {\r\n    const params = new URLSearchParams(filterParams);\r\n    const url = `${BASE_URL}/filters?${params}`;\r\n    return await fetchData(url);\r\n  },\r\n\r\n  async getExercisesQuote() {\r\n    const url = `${BASE_URL}/quote`;\r\n    return await fetchData(url);\r\n  },\r\n\r\n  async addSubscription(subscriptionBody) {\r\n    const method = 'POST';\r\n    const url = `${BASE_URL}/subscription`;\r\n    const body = JSON.stringify(subscriptionBody);\r\n    return await fetchData(url, method, body);\r\n  },\r\n};\r\n\r\nexport const axiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    'Content-type': 'application/json',\r\n  },\r\n});","export default \"__VITE_ASSET__CXYC4NSK__\"","import { getFavorites, removeFromFavorites } from './favorites.js';\nimport { openExerciseModal } from './modal.js';\nimport { axiosInstance } from './services/api-service.js';\nimport { showIziToast } from './services/iziToast.js';\nimport icons from '../img/icons/icons.svg';\n\nconst FILTER = {\n  MUSCLES: 'Muscles',\n  BODY_PARTS: 'Body parts',\n  EQUIPMENT: 'Equipment',\n};\n\nconst TYPE = {\n  EXERCISE: 'exercises',\n  CATEGORY: 'categories',\n};\n\nconst MOBILE_SCREEN_WIDTH = 768;\n\nlet currentFilter = FILTER.MUSCLES;\nlet currentCategory = null;\n\ndocument.addEventListener('DOMContentLoaded',  async () => {\n  const favoritesContainer = document.getElementById('favorites');\n  if (favoritesContainer) {\n    renderFavorites();\n  } else {\n    const { categories, page, totalPages } = await fetchCategories(FILTER.MUSCLES);\n    renderCategories(categories);\n    renderPagination(TYPE.CATEGORY, page, totalPages, FILTER.MUSCLES);\n\n    initFilterButtons();\n  }\n});\n\nconst initFilterButtons = () => {\n  const filterButtons = document.querySelectorAll('.filter-btn');\n\n  filterButtons.forEach((button) => {\n    button.addEventListener('click', async () => {\n      filterButtons.forEach(btn => btn.classList.remove('active'));\n\n      button.classList.add('active');\n\n      const selectedFilter = button.getAttribute('data-filter');\n\n      const { categories, page, totalPages } = await fetchCategories(selectedFilter);\n      renderCategories(categories);\n      renderPagination(TYPE.CATEGORY, page, totalPages, selectedFilter);\n    });\n  });\n};\n\nconst fetchCategories = async (filter, page = 1) => {\n  const limit = window.innerWidth < MOBILE_SCREEN_WIDTH ? 9 : 12;\n\n  try {\n    const response = await axiosInstance.get(`/filters`, {\n      params: {\n        filter,\n        page,\n        limit,\n      }\n    });\n    const data = response.data;\n    if (data.results) {\n      return {\n        categories: data.results,\n        page: Number(data.page),\n        totalPages: Number(data.totalPages),\n      };\n    }\n    return {\n      categories: [],\n      page: 1,\n      totalPages: 1,\n    };\n  } catch (error) {\n    showIziToast(`Error fetching categories: ${error}`, 'Error ❌');\n    return {\n      categories: [],\n      page: 1,\n      totalPages: 1,\n    };\n  }\n};\n\nconst fetchExercises = async (filter, category, page = 1, keyword = null) => {\n  const limit = window.innerWidth < MOBILE_SCREEN_WIDTH ? 8 : 10;\n\n  try {\n    const response = await axiosInstance.get(`/exercises`, {\n      params: {\n        page,\n        limit,\n        ...(filter === FILTER.MUSCLES && { muscles: category }),\n        ...(filter === FILTER.BODY_PARTS && { bodypart: category }),\n        ...(filter === FILTER.EQUIPMENT && { equipment: category }),\n        ...(keyword && { keyword }),\n      }\n    });\n    const data = response.data;\n    if (data.results) {\n      return {\n        exercises: data.results,\n        page: Number(data.page),\n        totalPages: Number(data.totalPages),\n      };\n    }\n    return {\n      exercises: [],\n      page: 1,\n      totalPages: 1,\n    };\n  } catch (error) {\n    showIziToast(`Error fetching categories: ${error}`, 'Error ❌');\n    return {\n      exercises: [],\n      page: 1,\n      totalPages: 1,\n    };\n  }\n}\n\nconst renderCategories = (categories) => {\n  const exerciseContainer = document.querySelector('.exercises-grid');\n  if (!exerciseContainer) return;\n  exerciseContainer.innerHTML = '';\n  changeSearchFormVisibility(false);\n  updateFilterSectionHeader(false);\n\n  if (categories.length === 0) {\n    exerciseContainer.innerHTML = '<p>No categories found.</p>';\n    return;\n  }\n\n  const fragment = document.createDocumentFragment();\n\n  categories.forEach((category) => {\n    const categoryCard = document.createElement('div');\n    categoryCard.classList.add('category-card');\n    categoryCard.innerHTML = `\n      <img src=\"${category.imgURL}\" alt=\"${category.name}\" />\n      <h3>${category.name}</h3>\n      <p>${category.filter}</p>\n    `;\n\n    categoryCard.addEventListener('click', async () => {\n      const { exercises, page, totalPages } = await fetchExercises(category.filter, category.name);\n      currentFilter = category.filter;\n      currentCategory = category.name;\n      renderExercises(exercises);\n      renderPagination(TYPE.EXERCISE, page, totalPages, category.filter);\n    });\n\n    fragment.appendChild(categoryCard);\n  });\n  exerciseContainer.appendChild(fragment);\n};\n\nconst getRatingMarkup = (rating) => `\n  <div class=\"rating\">\n    <span>\n      ${rating}\n    </span>\n    <svg class=\"icon-star\">\n      <use href=\"${icons}#icon-star-full\"></use>\n    </svg>\n  </div>\n`;\n\nconst getTrashButtonMarkup = (id) => `\n  <button class=\"trash-btn\" data-id=\"${id}\">\n    <svg width=\"16px\" height=\"16px\">\n      <use href=\"${icons}#icon-trash\"></use>\n    </svg>\n  </button>\n`;\n\nconst renderExercises = (exercises, isFavorites = false) => {\n  const exerciseContainer = document.querySelector('.exercises-grid');\n  if (!exerciseContainer) return;\n  exerciseContainer.innerHTML = '';\n  changeSearchFormVisibility(true);\n  updateFilterSectionHeader(true, currentCategory);\n\n\n  if (exercises.length === 0) {\n    exerciseContainer.innerHTML = '<p>No exercises found.</p>';\n    return;\n  }\n\n  const cards = exercises.map(({ bodyPart, burnedCalories, target, name, rating, _id }) => `\n    <div class=\"exercise-card\">\n      <div class=\"exercise-card-header\">\n        <div class=\"label\">WORKOUT</div>\n        ${isFavorites ? getTrashButtonMarkup(_id) : getRatingMarkup(rating)}\n        <button class=\"start-btn\" data-id=\"${_id}\">\n          Start\n          <svg class=\"icon-arrow\">\n            <use href=\"${icons}#icon-arrow-start\"></use>\n          </svg>\n        </button>\n      </div>\n      <div class=\"title-wrapper\">\n        <div class=\"icon-run-exercises\">\n          <svg class=\"icon-run\">\n            <use href=\"${icons}#icon-run\"></use>\n          </svg>\n        </div>\n        <div class=\"title\">${name}</div>\n      </div>\n      <div class=\"details\">\n        <div class=\"details-item\">\n          Burned calories: <span>${burnedCalories}</span>\n        </div>\n        <div class=\"details-item\">\n          Body part: <span>${bodyPart}</span>\n        </div>\n        <div class=\"details-item\">\n          Target:<span>${target}</span>\n        </div>\n      </div>\n    </div>\n  `).join(' ');\n\n  exerciseContainer.insertAdjacentHTML('afterbegin', cards);\n\n  document.querySelectorAll('.exercise-card .start-btn').forEach((card) => {\n    const exerciseId = card.getAttribute('data-id');\n    if (exerciseId) {\n      card.addEventListener('click', () => {\n        openExerciseModal(exerciseId, false); // Передаємо параметр false для інших сторінок\n      });\n    } else {\n      showIziToast(`Exercise ID is missing.`, 'Error ❌');\n    }\n  });\n\n  document.querySelectorAll('.trash-btn').forEach((card) => {\n    const exerciseId = card.getAttribute('data-id');\n    if (exerciseId) {\n      card.addEventListener('click', () => {\n        removeFromFavorites(exerciseId, renderFavorites);\n      });\n    } else {\n      showIziToast(`Exercise ID is missing.`, 'Error ❌');\n    }\n  });\n};\n\nconst renderPagination = (\n  type,\n  page,\n  totalPages,\n  filter,\n) => {\n  const pagination = document.getElementById('pagination');\n  if (!pagination) return;\n  pagination.innerHTML = '';\n\n  if (totalPages <= 1) return; // Якщо тільки одна сторінка, не потрібно рендерити пагінацію\n\n  const fragment = document.createDocumentFragment();\n\n  for (let i = 1; i <= totalPages; i++) {\n    const pageButton = document.createElement('div');\n    pageButton.innerText = i;\n    pageButton.className = i === page ? 'page current' : 'page';\n\n    pageButton.addEventListener('click', async () => {\n      if (type === TYPE.CATEGORY) {\n        const { categories } = await fetchCategories(filter, i);\n        renderCategories(categories);\n        renderPagination(type, i, totalPages, filter);\n      } else {\n        const { exercises } = await fetchExercises(filter, null, i);\n        renderExercises(exercises);\n        renderPagination(type, i, totalPages, filter);\n      }\n    });\n\n    fragment.appendChild(pageButton);\n  }\n\n  pagination.appendChild(fragment);\n};\n\nexport const renderFavorites = () => {\n  const exerciseContainer = document.querySelector('.exercises-grid');\n  const exercises = getFavorites();\n  if (exercises.length > 0) {\n    renderExercises(exercises, true);\n  } else {\n    exerciseContainer.innerHTML = '<p class=\"empty-favorites\">It appears that you haven\\'t added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>';\n  }\n};\n\nconst changeSearchFormVisibility = (isVisible) => {\n  const searchForm = document.getElementById('search-form');\n  if (!searchForm) return;\n  searchForm.style.display = isVisible ? 'block' : 'none';\n\n  if (isVisible) {\n    searchForm.addEventListener('submit', searchFormSubmitHandler);\n  } else {\n    searchForm.removeEventListener('submit', searchFormSubmitHandler);\n  }\n};\n\nconst searchFormSubmitHandler = async (event) => {\n  event.preventDefault();\n  const searchInput = document.getElementById('search-input');\n\n  const value = searchInput.value.trim();\n  searchInput.value = '';\n\n  if (value === '') return;\n\n  const { exercises } = await fetchExercises(currentFilter, currentCategory, 1, value);\n  renderExercises(exercises);\n  renderPagination(TYPE.EXERCISE, 1, 1, currentFilter);\n\n};\n\nconst updateFilterSectionHeader = (isVisible, filter = '') => {\n  const span = document.querySelector('.exercises-header-span');\n  const header = document.querySelector('.exercises-subcategory');\n  if (!span || !header) return;\n  span.style.display = isVisible ? 'flex' : 'none';\n  header.textContent = filter;\n};","import { addToFavorites, removeFromFavorites } from './favorites.js';\nimport { renderFavorites } from './filters.js';\nimport { showIziToast } from './services/iziToast.js';\nimport icons from '../img/icons/icons.svg';\n\nexport function openExerciseModal(exerciseId, isFavoritesPage) {\n  fetch(`https://your-energy.b.goit.study/api/exercises/${exerciseId}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch exercise details.');\n      }\n      return response.json();\n    })\n    .then(exercise => {\n      fillExerciseModal(exercise, isFavoritesPage);\n      showModal(); // Показуємо модальне вікно після заповнення даними\n    })\n    .catch(error => {\n      showIziToast(`Error fetching exercise details: ${error}`, 'Error ❌');\n    });\n}\n\nfunction openRatingModal() {\n  const exerciseId = document\n    .querySelector('.modal__block')\n    .getAttribute('data-id');\n  if (exerciseId) {\n    closeModal(); // Закриваємо модальне вікно вправи перед відкриттям модального вікна рейтингу\n    const ratingModal = document.getElementById('ratingModal');\n    if (ratingModal) {\n      resetRatingForm(); // Очищаємо форму перед відкриттям модального вікна\n      ratingModal.setAttribute('data-exercise-id', exerciseId);\n      ratingModal.classList.add('is-visible');\n      setupStarRating(); // Ініціалізуємо зірочки при відкритті модального вікна рейтингу\n    }\n  } else {\n    showIziToast(\n      'Exercise ID is missing when trying to open the rating modal.',\n      'Error ❌'\n    );\n  }\n}\n\n// Закриття модального вікна по хрестику\ndocument.addEventListener('click', function (event) {\n  if (event.target.closest('.rating-modal__exit')) {\n    closeRatingModal();\n  }\n});\n\n// Закриття модального вікна по кліку поза модальним вікном\ndocument.addEventListener('click', function (event) {\n  const ratingModal = document.getElementById('ratingModal');\n  const modalBlock = document.querySelector('.rating-modal__block');\n  const isVisible = ratingModal.classList.contains('is-visible');\n\n  // Якщо модальне вікно відкрите і клік поза межами блоку модального вікна, закриваємо його\n  if (isVisible && ratingModal && !modalBlock.contains(event.target)) {\n    closeRatingModal();\n  }\n});\n\n// Закриття модального вікна по натисканню на клавішу Esc\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeRatingModal();\n  }\n});\n\n// Закриття модального вікна по кліку на кнопці Cancel\ndocument.addEventListener('click', function (event) {\n  if (event.target.matches('.rating-modal__cancel-btn')) {\n    closeRatingModal();\n  }\n});\n\n// Функція для закриття модального вікна\nfunction closeRatingModal() {\n  const ratingModal = document.getElementById('ratingModal');\n  if (ratingModal) {\n    ratingModal.classList.remove('is-visible');\n    resetRatingForm(); // Скидаємо форму після закриття модального вікна\n  }\n}\n\nfunction validateEmail(email) {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction setupStarRating() {\n  const starsContainer = document.querySelector('.rating-modal__stars');\n\n  if (!starsContainer) return;\n\n  const stars = starsContainer.querySelectorAll('span');\n\n  if (stars.length === 0) return;\n\n  stars.forEach((star, index) => {\n    star.addEventListener('click', function () {\n      stars.forEach(s => s.classList.remove('selected'));\n\n      for (let i = 0; i <= index; i++) {\n        stars[i].classList.add('selected');\n      }\n\n      const ratingValue = index + 1;\n      const ratingValueElement = document.querySelector('.rating-modal__value');\n      if (ratingValueElement) {\n        ratingValueElement.textContent = ratingValue.toFixed(1);\n        ratingValueElement.setAttribute('data-selected-rating', ratingValue);\n      }\n    });\n  });\n}\n\nfunction resetRatingForm() {\n  const emailInput = document.querySelector('.rating-modal__email');\n  const commentInput = document.querySelector('.rating-modal__comment');\n  const stars = document.querySelectorAll('.rating-modal__stars span');\n  const ratingValue = document.querySelector('.rating-modal__value');\n\n  if (emailInput) {\n    emailInput.value = '';\n  }\n\n  if (commentInput) {\n    commentInput.value = '';\n  }\n\n  if (stars.length > 0) {\n    stars.forEach(s => s.classList.remove('selected'));\n  }\n\n  if (ratingValue) {\n    ratingValue.textContent = '0.0';\n    ratingValue.removeAttribute('data-selected-rating');\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  document.addEventListener('click', function (event) {\n    if (event.target.matches('.rating-btn')) {\n      openRatingModal();\n    }\n    if (event.target.matches('.rating-modal__submit-btn')) {\n      const ratingModal = document.getElementById('ratingModal');\n      const exerciseId = ratingModal?.getAttribute('data-exercise-id');\n\n      if (!exerciseId) {\n        alert('Exercise ID is missing.');\n        return;\n      }\n\n      const selectedRating = document\n        .querySelector('.rating-modal__value')\n        ?.getAttribute('data-selected-rating');\n      if (!selectedRating) {\n        alert('Please select a rating.');\n        return;\n      }\n\n      const email = document\n        .querySelector('.rating-modal__email')\n        ?.value.trim();\n      const comment = document\n        .querySelector('.rating-modal__comment')\n        ?.value.trim();\n\n      if (!selectedRating || !email || !comment) {\n        alert('Please fill out all fields.');\n        return;\n      }\n\n      if (!validateEmail(email)) {\n        alert('Please enter a valid email address.');\n        return;\n      }\n\n      const requestData = {\n        rate: Number(selectedRating),\n        email: email,\n        review: comment,\n      };\n\n      fetch(\n        `https://your-energy.b.goit.study/api/exercises/${exerciseId}/rating`,\n        {\n          method: 'PATCH',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(requestData),\n        }\n      )\n        .then(response => {\n          if (response.status === 409) {\n            return response.json().then(err => {\n              throw new Error(\n                `Rating already submitted with this email: ${err.message}`\n              );\n            });\n          }\n          if (!response.ok) {\n            return response.json().then(err => {\n              throw new Error(`Failed to submit rating: ${err.message}`);\n            });\n          }\n          return response.json();\n        })\n        .then(data => {\n          showIziToast(`Thank you for your feedback`, 'Done ✅');\n          closeRatingModal();\n        })\n\n        .catch(error => {\n          if (\n            error.message.includes('Rating already submitted with this email')\n          ) {\n            showIziToast(\n              'You have already submitted a rating using this email address.',\n              'Error ❌'\n            );\n          } else {\n            showIziToast(\n              'Error submitting rating. Please try again later.',\n              'Error ❌'\n            );\n          }\n        });\n    }\n  });\n});\n\nconst renderRating = rating => {\n  const fullStars = Math.round(rating);\n  const fullStarsMarkup = Array(fullStars).fill(\n    `<svg class=\"icon-star\"><use href=\"${icons}#icon-star-full\"></use></svg>`\n  );\n  const emptyStarsMarkup = Array(5 - fullStars).fill(\n    `<svg class=\"icon-star\"><use href=\"${icons}#icon-star-empty\"></use></svg>`\n  );\n\n  return `\n    ${fullStarsMarkup.join('')}\n    ${emptyStarsMarkup.join('')}\n  `;\n};\n\nfunction fillExerciseModal(exercise) {\n  const modalTitle = document.querySelector('.modal-title');\n  const modalImage = document.querySelector('.modal-image');\n  const modalTarget = document.querySelector('.modal-target');\n  const modalBodyPart = document.querySelector('.modal-bodyPart');\n  const modalEquipment = document.querySelector('.modal-equipment');\n  const modalCalories = document.querySelector('.modal-calories');\n  const modalDescription = document.querySelector('.modal__description');\n  const modalBlock = document.querySelector('.modal__block');\n  const ratingBlock = document.querySelector('.modal__rating');\n\n  // Зберігаємо ID вправи в атрибуті data-id модального вікна\n  modalBlock.setAttribute('data-id', exercise._id);\n\n  // Заповнення даних модального вікна\n  modalTitle.textContent = exercise.name || 'No name available';\n  modalImage.src = exercise.gifUrl || '';\n  modalImage.alt = exercise.name || 'Exercise image';\n  modalTarget.textContent = exercise.target || 'No target available';\n  modalBodyPart.textContent = exercise.bodyPart || 'No body part available';\n  modalEquipment.textContent = exercise.equipment || 'No equipment available';\n  modalCalories.textContent = `${exercise.burnedCalories || 'N/A'}`;\n  modalDescription.textContent =\n    exercise.description || 'No description available';\n  ratingBlock.innerHTML = `\n    <span>${exercise.rating}</span>\n    <span>${renderRating(exercise.rating)}</span>\n  `;\n\n  // Оновлюємо кнопки в модальному вікні\n  const modalButtons = document.querySelector('.modal__btns');\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n  const isFavorite = favorites.find(item => item._id === exercise._id);\n\n  modalButtons.innerHTML = `\n    <button class=\"favorites-btn\">\n      ${isFavorite ? 'Remove' : 'Add to favorites'}\n      ${isFavorite ? '' : '<svg class=\"fa-heart\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\\n  <path d=\"M17.3666 3.84172C16.941 3.41589 16.4356 3.0781 15.8794 2.84763C15.3232 2.61716 14.727 2.49854 14.1249 2.49854C13.5229 2.49854 12.9267 2.61716 12.3705 2.84763C11.8143 3.0781 11.3089 3.41589 10.8833 3.84172L9.99994 4.72506L9.1166 3.84172C8.25686 2.98198 7.0908 2.49898 5.87494 2.49898C4.65907 2.49898 3.49301 2.98198 2.63327 3.84172C1.77353 4.70147 1.29053 5.86753 1.29053 7.08339C1.29053 8.29925 1.77353 9.46531 2.63327 10.3251L3.5166 11.2084L9.99994 17.6917L16.4833 11.2084L17.3666 10.3251C17.7924 9.89943 18.1302 9.39407 18.3607 8.83785C18.5912 8.28164 18.7098 7.68546 18.7098 7.08339C18.7098 6.48132 18.5912 5.88514 18.3607 5.32893C18.1302 4.77271 17.7924 4.26735 17.3666 3.84172Z\" stroke=\"#242424\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\\n</svg></button>'}\n    <button class=\"rating-btn\">Give a rating</button>\n  `;\n\n  const favoritesButton = document.querySelector('.favorites-btn');\n  const favoritesContainer = document.getElementById('favorites');\n  favoritesButton.addEventListener('click', function () {\n    if (isFavorite) {\n      const removeFavoriteCallback = favoritesContainer\n        ? renderFavorites\n        : undefined;\n      removeFromFavorites(exercise._id, removeFavoriteCallback);\n    } else {\n      addToFavorites(exercise);\n    }\n    closeModal(); // Закриваємо модальне вікно після додавання/видалення\n  });\n}\n\nfunction showModal() {\n  const modal = document.querySelector('.modal');\n  if (modal) {\n    modal.classList.add('is-visible');\n  } else {\n    showIziToast('Modal element is missing.', 'Error ❌');\n  }\n}\n\nfunction closeModal() {\n  const modal = document.querySelector('.modal');\n  if (modal) {\n    modal.classList.remove('is-visible');\n  } else {\n    showIziToast('Modal element is missing.', 'Error ❌');\n  }\n}\n\nconst closeModalButton = document.querySelector('.modal-close');\nif (closeModalButton) {\n  closeModalButton.addEventListener('click', closeModal);\n}\n\n// Закриття модального вікна при натисканні за його межами\ndocument.addEventListener('click', event => {\n  const modal = document.querySelector('.modal');\n  const modalBlock = document.querySelector('.modal__block');\n  if (\n    modal &&\n    modalBlock &&\n    modal.classList.contains('is-visible') &&\n    !modalBlock.contains(event.target)\n  ) {\n    closeModal();\n  }\n});\n\n// Закриття модального вікна при натисканні клавіші Esc\ndocument.addEventListener('keydown', event => {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n});\n","import { showIziToast } from './iziToast';\r\n\r\nimport { fetchApi } from './api-service';\r\n\r\nconst formEl = document.querySelector('.subscribe-form');\r\n\r\nif (formEl !== null) {\r\n  formEl.addEventListener('submit', handleSubmit);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const email = e.target.elements.email.value;\r\n\r\n    try {\r\n      await fetchApi.addSubscription({ email });\r\n      showIziToast('You have subscribed 🥳', 'Congratulations!', '#f4f4f4');\r\n    } catch (err) {\r\n      showIziToast('Subscription already exists 😊', '', '#c6cdd1');\r\n    } finally {\r\n      e.target.reset();\r\n      localStorage.removeItem('subscribe-form-email');\r\n    }\r\n  }\r\n  const formData = { email: '' };\r\n\r\n  const isEmpty = form => {\r\n    const formFromLS = JSON.parse(localStorage.getItem('subscribe-form-email'));\r\n    if (formFromLS !== null) {\r\n      for (const key in formFromLS) {\r\n        if (formFromLS.hasOwnProperty(key)) {\r\n          form.elements[key].value = formFromLS[key];\r\n          formData[key] = formFromLS[key];\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  isEmpty(formEl);\r\n\r\n  formEl.addEventListener('input', event => {\r\n    const nameField = event.target.name;\r\n    const valueField = event.target.value.trim();\r\n\r\n    formData[nameField] = valueField;\r\n\r\n    localStorage.setItem('subscribe-form-email', JSON.stringify(formData));\r\n  });\r\n}\r\n","(() => {\n  let e = document.querySelector('.js-menu-container'),\n    s = document.querySelector('.js-open-menu'),\n    n = document.querySelector('.js-close-menu'),\n    a = [...document.getElementsByClassName('mobile-menu-link')],\n    i = () => {\n      let n = 'true' === s.getAttribute('aria-expanded');\n      s.setAttribute('aria-expanded', !n),\n        e.classList.toggle('is-open'),\n        (document.body.style.overflow = n ? 'auto' : 'hidden');\n    };\n\n  const updateListeners = () => {\n    if (window.matchMedia('(max-width: 767px)').matches) {\n      s.addEventListener('click', i);\n      n.addEventListener('click', i);\n      a.forEach(e => {\n        e.addEventListener('click', i);\n      });\n    } else {\n      s.removeEventListener('click', i);\n      n.removeEventListener('click', i);\n      a.forEach(e => {\n        e.removeEventListener('click', i);\n      });\n      e.classList.remove('is-open');\n      s.setAttribute('aria-expanded', !1);\n    }\n  };\n\n  window.addEventListener('resize', updateListeners);\n  updateListeners();\n})();\n","const hidePreloader = () => {\n  const preloader = document.querySelector('.preloader');\n  preloader.classList.add('preloader--hidden');\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  setTimeout(() => {\n    hidePreloader();\n  }, 500);\n});","// Get the button:\nlet mybutton = document.getElementById('myBtn');\nlet isfooter = document.getElementsByClassName('.footer');\n\nif (mybutton) {\n  mybutton.onclick = function () {\n    topFunction();\n  };\n}\n\n// When the user scrolls down 20px from the top of the document, show the button\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    mybutton.style.display = 'block';\n  } else {\n    mybutton.style.display = 'none';\n  }\n}\n\n// When the user clicks on the button, scroll to the top of the document\nfunction topFunction() {\n  document.body.scrollTop = 0; // For Safari\n  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n}\n"],"names":["navLinks","currentUrl","link","header","main","headerScrollClass","toggleHeaderScrollingClass","toggleMainScrollingStyles","scrollHandler","showIziToast","message","title","color","time","iziToast","fetchQuote","saveQuoteToLocalStorage","quote","currentDate","getSavedQuote","savedQuote","getDailyQuote","newQuote","displayQuote","dailyQuote","quoteText","quoteAuthor","getFavorites","addToFavorites","exercise","favorites","item","removeFromFavorites","exerciseId","callback","filteredFavorites","BASE_URL","fetchData","path","method","body","resp","fetchApi","exercisesParams","params","url","id","ratingBody","filterParams","subscriptionBody","axiosInstance","axios","icons","FILTER","TYPE","MOBILE_SCREEN_WIDTH","currentFilter","currentCategory","renderFavorites","categories","page","totalPages","fetchCategories","renderCategories","renderPagination","initFilterButtons","filterButtons","button","btn","selectedFilter","filter","limit","data","error","fetchExercises","category","keyword","exerciseContainer","changeSearchFormVisibility","updateFilterSectionHeader","fragment","categoryCard","exercises","renderExercises","getRatingMarkup","rating","getTrashButtonMarkup","isFavorites","cards","bodyPart","burnedCalories","target","name","_id","card","openExerciseModal","type","pagination","i","pageButton","isVisible","searchForm","searchFormSubmitHandler","event","searchInput","value","span","isFavoritesPage","response","fillExerciseModal","showModal","openRatingModal","closeModal","ratingModal","resetRatingForm","setupStarRating","closeRatingModal","modalBlock","validateEmail","email","starsContainer","stars","star","index","s","ratingValue","ratingValueElement","emailInput","commentInput","selectedRating","_a","_b","comment","_c","requestData","err","renderRating","fullStars","fullStarsMarkup","emptyStarsMarkup","modalTitle","modalImage","modalTarget","modalBodyPart","modalEquipment","modalCalories","modalDescription","ratingBlock","modalButtons","isFavorite","favoritesButton","favoritesContainer","removeFavoriteCallback","modal","closeModalButton","formEl","handleSubmit","e","formData","form","formFromLS","key","nameField","valueField","a","n","updateListeners","hidePreloader","mybutton","topFunction","scrollFunction"],"mappings":"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"}